<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>WB / India Job OSINT Search — Custom Engine</title>
    <!-- Tailwind CDN (Play/drop-in) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* small helpers */
        .mono {
            font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-900">
    <div class="max-w-5xl mx-auto p-6">
        <header class="mb-6">
            <h1 class="text-2xl font-semibold">OSINT Job Search Engine — Gov & Private</h1>
            <p class="text-sm text-slate-600 mt-1">Build complex search queries (Google / Bing / DuckDuckGo). Tailor for
                West Bengal, All-states, Central, private portals, PDFs and hidden notices.</p>
        </header>

        <main class="grid grid-cols-1 gap-6">
            <section class="bg-white p-4 rounded-lg shadow-sm">
                <div class="flex gap-3 items-center">
                    <label class="inline-flex items-center gap-2">
                        <input id="modeGov" type="radio" name="mode" checked class="form-radio" />
                        <span>Government</span>
                    </label>
                    <label class="inline-flex items-center gap-2">
                        <input id="modePriv" type="radio" name="mode" class="form-radio" />
                        <span>Private</span>
                    </label>

                    <div class="ml-auto text-sm text-slate-500">Engine: <span id="engineLabel">Google</span></div>
                </div>

                <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                    <div>
                        <label class="text-xs text-slate-600">Search keywords</label>
                        <input id="keywords" class="w-full mt-1 p-2 border rounded"
                            placeholder="e.g. data entry operator, web developer, junior developer" />
                    </div>
                    <div>
                        <label class="text-xs text-slate-600">Exact phrase (optional)</label>
                        <input id="exact" class="w-full mt-1 p-2 border rounded" placeholder="e.g. \" data entry
                            operator\"" />
                    </div>
                    <div>
                        <label class="text-xs text-slate-600">Exclude words (comma)</label>
                        <input id="exclude" class="w-full mt-1 p-2 border rounded"
                            placeholder="e.g. internship, volunteer" />
                    </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3">
                    <div>
                        <label class="text-xs text-slate-600">Government scope</label>
                        <select id="govScope" class="w-full mt-1 p-2 border rounded">
                            <option value="state">State-level (choose state)</option>
                            <option value="central">Central (All India)</option>
                            <option value="all">All Govt (State + Central)</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-xs text-slate-600">Select State (for state-level)</label>
                        <select id="stateSelect" class="w-full mt-1 p-2 border rounded">
                            <option value="west bengal">West Bengal</option>
                            <option value="all states">All states</option>
                            <option value="maharashtra">Maharashtra</option>
                            <option value="uttar pradesh">Uttar Pradesh</option>
                            <option value="karnataka">Karnataka</option>
                            <!-- Add more as needed -->
                        </select>
                    </div>

                    <div>
                        <label class="text-xs text-slate-600">Private job sites to include (comma)</label>
                        <input id="privateSites" class="w-full mt-1 p-2 border rounded"
                            placeholder="e.g. naukri.com, indeed.co.in" />
                    </div>
                </div>

                <div class="mt-3">
                    <label class="inline-flex items-center gap-2">
                        <input id="onlyPDF" type="checkbox" class="form-checkbox" />
                        <span class="text-sm">Only PDF / Official notices</span>
                    </label>
                    <label class="inline-flex items-center gap-2 ml-4">
                        <input id="deepHidden" type="checkbox" class="form-checkbox" />
                        <span class="text-sm">Deep / Hidden-web dorks (inurl:notice, intext:advertisement)</span>
                    </label>
                </div>

                <div class="mt-4 flex gap-3">
                    <button id="buildBtn" class="px-4 py-2 bg-indigo-600 text-white rounded">Build Query</button>
                    <button id="searchBtn" class="px-4 py-2 bg-emerald-600 text-white rounded">Search (Open)</button>
                    <button id="multiBtn" class="px-4 py-2 bg-yellow-500 text-black rounded">Multi-Search (Open
                        tabs)</button>
                    <button id="copyBtn" class="px-4 py-2 border rounded">Copy Query</button>

                    <div class="ml-auto">
                        <label class="text-xs">Engine</label>
                        <select id="engine" class="ml-2 p-2 border rounded">
                            <option value="google">Google</option>
                            <option value="bing">Bing</option>
                            <option value="ddg">DuckDuckGo</option>
                        </select>
                    </div>
                </div>

                <div class="mt-4">
                    <label class="text-xs text-slate-500">Generated query</label>
                    <pre id="queryOutput" class="mt-1 p-3 bg-slate-100 rounded mono text-sm overflow-x-auto"></pre>
                </div>
            </section>

            <section class="bg-white p-4 rounded-lg shadow-sm">
                <h2 class="font-medium">Presets / Quick dorks</h2>
                <p class="text-sm text-slate-500">Click any preset to add to your query.</p>

                <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2">
                    <button class="preset p-2 border rounded text-sm" data-q='filetype:pdf'>Only PDFs</button>
                    <button class="preset p-2 border rounded text-sm" data-q='site:gov.in'>site:gov.in</button>
                    <button class="preset p-2 border rounded text-sm" data-q='site:nic.in'>site:nic.in</button>
                    <button class="preset p-2 border rounded text-sm"
                        data-q='intitle:vacancy OR intitle:recruitment'>intitle:vacancy/recruitment</button>
                    <button class="preset p-2 border rounded text-sm"
                        data-q='inurl:notice OR inurl:advertisement'>inurl:notice/advertisement</button>
                    <button class="preset p-2 border rounded text-sm" data-q='"walk-in" OR "walk in"'>walk-in</button>
                    <button class="preset p-2 border rounded text-sm"
                        data-q='"contractual" OR "temporary"'>contractual</button>
                    <button class="preset p-2 border rounded text-sm" data-q='"data entry" OR "computer operator"'>IT
                        roles</button>
                </div>
            </section>

            <section class="bg-white p-4 rounded-lg shadow-sm">
                <h2 class="font-medium">Advanced options</h2>
                <p class="text-sm text-slate-500">Use these to tweak the search string builder behavior.</p>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3">
                    <div>
                        <label class="text-xs">Date filter (Google tbs param)</label>
                        <select id="dateFilter" class="w-full mt-1 p-2 border rounded">
                            <option value="">Any time</option>
                            <option value="qdr:d">Past day</option>
                            <option value="qdr:w">Past week</option>
                            <option value="qdr:m">Past month</option>
                            <option value="qdr:y">Past year</option>
                        </select>
                    </div>

                    <div>
                        <label class="text-xs">Open results in</label>
                        <select id="target" class="w-full mt-1 p-2 border rounded">
                            <option value="_blank">New tab</option>
                            <option value="_self">Same tab</option>
                        </select>
                    </div>

                    <div>
                        <label class="text-xs">Max results to open (multi-search)</label>
                        <input id="maxTabs" type="number" min="1" max="12" value="4"
                            class="w-full mt-1 p-2 border rounded" />
                    </div>
                </div>

                <div class="mt-4 text-sm text-slate-500">
                    <p><strong>Note:</strong> The engine constructs advanced search dorks — some queries open many tabs
                        if you choose Multi-Search. Your browser may block popups; allow popups for this page to use
                        multi-open.</p>
                </div>
            </section>

            <section class="bg-white p-4 rounded-lg shadow-sm">
                <h2 class="font-medium">How it works (brief)</h2>
                <ul class="list-disc pl-5 mt-2 text-sm text-slate-600">
                    <li>Choose <em>Gov</em> or <em>Private</em>. Gov mode auto-includes government domains and dorks.
                    </li>
                    <li>Choose scope: State / Central / All. For state-level it injects state terms and district nic
                        sites.</li>
                    <li>Toggle <em>Only PDF</em> to prefer official notices. Toggle <em>Deep</em> to include
                        inurl/intext dorks that find buried notices.</li>
                    <li>Press <strong>Build Query</strong> to preview; press <strong>Search</strong> to open your chosen
                        engine results.</li>
                </ul>
            </section>

            <footer class="text-sm text-slate-500">Made for Tarikul — tweak the site lists inside the code to add more
                districts, newspapers or private portals.</footer>
        </main>
    </div>

    <script>
        // --- DATA: curated site lists ---
        const centralSites = [
            'https://www.india.gov.in/*',
            'https://www.ncs.gov.in/*',
            'https://www.mhrdnats.gov.in/*',
            'https://www.nta.ac.in/*',
            'https://employmentnews.gov.in/*'
        ];

        const westBengalSites = [
            'https://www.kmcgov.in/*',
            'https://www.mscwb.org/*',
            'https://wb.gov.in/*',
            'https://employmentbankwb.gov.in/*',
            'https://kolkata.gov.in/*',
            'https://anandabazar.com/*',
            'https://bartamanpatrika.com/*',
            'https://telegraphindia.com/*'
        ];

        const allStateNIC = [
            // pattern for district nic. Add/extend in code if needed
            'site:*.nic.in',
            'site:*.gov.in'
        ];

        const privatePortals = [
            'site:naukri.com',
            'site:indeed.co.in',
            'site:monsterindia.com',
            'site:linkedin.com/jobs'
        ];

        // --- UI handles ---
        const modeGov = document.getElementById('modeGov');
        const modePriv = document.getElementById('modePriv');
        const buildBtn = document.getElementById('buildBtn');
        const searchBtn = document.getElementById('searchBtn');
        const multiBtn = document.getElementById('multiBtn');
        const copyBtn = document.getElementById('copyBtn');
        const queryOutput = document.getElementById('queryOutput');
        const engineSelect = document.getElementById('engine');
        const engineLabel = document.getElementById('engineLabel');
        const presetButtons = document.querySelectorAll('.preset');

        engineSelect.addEventListener('change', () => {
            engineLabel.textContent = engineSelect.value === 'google' ? 'Google' : (engineSelect.value === 'bing' ? 'Bing' : 'DuckDuckGo');
        });

        presetButtons.forEach(b => {
            b.addEventListener('click', () => {
                const txt = document.getElementById('keywords');
                const add = b.dataset.q;
                txt.value = (txt.value ? txt.value + ' ' : '') + add;
            });
        });

        function buildDork() {
            const kw = document.getElementById('keywords').value.trim();
            const exact = document.getElementById('exact').value.trim();
            const exclude = document.getElementById('exclude').value.split(',').map(s => s.trim()).filter(Boolean);
            const govScope = document.getElementById('govScope').value;
            const state = document.getElementById('stateSelect').value;
            const onlyPDF = document.getElementById('onlyPDF').checked;
            const deepHidden = document.getElementById('deepHidden').checked;
            const privSitesInput = document.getElementById('privateSites').value.split(',').map(s => s.trim()).filter(Boolean);

            let parts = [];
            if (kw) parts.push(kw);
            if (exact) parts.push('"' + exact.replace(/\"/g, '') + '"');

            // exclude
            exclude.forEach(e => {
                if (e) parts.push('-"' + e + '"');
            });

            // mode
            if (modeGov.checked) {
                // include government specific site dorks based on scope
                if (govScope === 'central') {
                    parts.push(allStateNIC.join(' OR '));
                    parts.push(centralSites.map(s => s.replace('/*', '')).map(s => `site:${s.replace(/https?:\/\//, '')}`).join(' OR '));
                } else if (govScope === 'state') {
                    // for state-level include state site list and state keyword
                    parts.push(westBengalSites.map(s => `site:${s.replace(/https?:\/\//, '').replace(/\*$/, '')}`).join(' OR '));
                    if (state) parts.push('"' + state + '"');
                } else {
                    parts.push(allStateNIC.join(' OR '));
                    parts.push(westBengalSites.map(s => `site:${s.replace(/https?:\/\//, '').replace(/\*$/, '')}`).join(' OR '));
                }

                if (onlyPDF) parts.push('filetype:pdf');
                if (deepHidden) parts.push('(inurl:notice OR inurl:advertisement OR intext:advertisement OR intext:notification OR inurl:recruitment)');
            } else {
                // private mode
                const sites = privSitesInput.length ? privSitesInput.map(s => `site:${s.replace(/https?:\/\//, '')}`) : privatePortals;
                parts.push(sites.join(' OR '));
                if (deepHidden) {
                    parts.push('("hiring" OR "apply now" OR "job opening" OR "urgent requirement")');
                }
            }

            // final assembled
            const final = parts.filter(Boolean).join(' ');
            return final;
        }

        buildBtn.addEventListener('click', () => {
            const q = buildDork();
            queryOutput.textContent = q || '— no query —';
        });

        copyBtn.addEventListener('click', () => {
            const q = buildDork();
            navigator.clipboard.writeText(q).then(() => {
                copyBtn.textContent = 'Copied!';
                setTimeout(() => copyBtn.textContent = 'Copy Query', 1200);
            });
        });

        function searchOpenTabs(queries, target) {
            const engine = engineSelect.value;
            const urls = queries.map(q => {
                const enc = encodeURIComponent(q);
                if (engine === 'google') return `https://www.google.com/search?q=${enc}`;
                if (engine === 'bing') return `https://www.bing.com/search?q=${enc}`;
                return `https://duckduckgo.com/?q=${enc}`;
            });

            urls.forEach(u => window.open(u, target));
        }

        searchBtn.addEventListener('click', () => {
            const q = buildDork();
            if (!q) return alert('Add some keywords first');

            const engine = engineSelect.value;
            const enc = encodeURIComponent(q);
            let url = '';
            if (engine === 'google') url = `https://www.google.com/search?q=${enc}`;
            else if (engine === 'bing') url = `https://www.bing.com/search?q=${enc}`;
            else url = `https://duckduckgo.com/?q=${enc}`;

            const target = document.getElementById('target').value;
            window.open(url, target);
        });

        multiBtn.addEventListener('click', () => {
            const maxTabs = parseInt(document.getElementById('maxTabs').value || '4', 10);
            const baseQuery = buildDork();
            if (!baseQuery) return alert('Add some keywords first');

            // Create several useful query variations and open them
            const variants = [];
            variants.push(baseQuery);
            variants.push(baseQuery + ' filetype:pdf');
            variants.push(baseQuery + ' inurl:notice OR inurl:advertisement');
            variants.push(baseQuery + ' intitle:vacancy OR intitle:recruitment');
            variants.push(baseQuery + ' "walk-in"');

            // if private, add portals specific queries
            if (modePriv.checked) {
                variants.push(baseQuery + ' site:indeed.co.in');
                variants.push(baseQuery + ' site:naukri.com');
            }

            // limit and open
            const openSet = variants.slice(0, maxTabs);
            searchOpenTabs(openSet, document.getElementById('target').value);
        });

        // small UX: toggle state select when gov/private changes
        modeGov.addEventListener('change', () => {
            document.getElementById('govScope').disabled = false;
            document.getElementById('stateSelect').disabled = false;
        });
        modePriv.addEventListener('change', () => {
            document.getElementById('govScope').disabled = true;
            document.getElementById('stateSelect').disabled = true;
        });

        // init
        document.getElementById('govScope').dispatchEvent(new Event('change'));
    </script>
</body>

</html>